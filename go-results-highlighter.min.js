!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.GoResultsHighlighter=e()}}(function(){return function e(t,r,n){function o(l,a){if(!r[l]){if(!t[l]){var s="function"==typeof require&&require;if(!a&&s)return s(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+l+"'")}var u=r[l]={exports:{}};t[l][0].call(u.exports,function(e){var r=t[l][1][e];return o(r?r:e)},u,u.exports,e,t,r,n)}return r[l].exports}for(var i="function"==typeof require&&require,l=0;l<n.length;l++)o(n[l]);return o}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=(0,i.asArray)(document.querySelectorAll("[go-results],[data-go-results]")),t=!0,r=!1,n=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;s.goResultsHighlighter=new l["default"](s)}}catch(u){r=!0,n=u}finally{try{!t&&a["return"]&&a["return"]()}finally{if(r)throw n}}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./plugin"),l=n(i);"complete"===document.readyState?o():document.addEventListener("DOMContentLoaded",o,!1),r["default"]=l["default"],t.exports=r["default"]},{"./plugin":2}],2:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return Array.prototype.slice.call(e)}function i(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];var o=r.filter(function(e){return"object"==typeof e}).reverse(),i={};e:for(var l in e){var a=!0,s=!1,u=void 0;try{for(var f,c=o[Symbol.iterator]();!(a=(f=c.next()).done);a=!0){var d=f.value;if(d.hasOwnProperty(l)){i[l]=d[l];continue e}}}catch(v){s=!0,u=v}finally{try{!a&&c["return"]&&c["return"]()}finally{if(s)throw u}}i[l]=e[l]}return i}function l(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push({cls:r,regexp:new RegExp(e[r])});return t}function a(e){var t={},r=!0,n=!1,o=void 0;try{for(var i,l=d[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var a=i.value,s=e.getAttribute(c+a);s||(s=e.getAttribute("data-"+c+a)),s&&(t[a]=s)}}catch(u){n=!0,o=u}finally{try{!r&&l["return"]&&l["return"]()}finally{if(n)throw o}}return t}function s(e,t){var r=o(e.querySelectorAll(t.rowTags)),n=l(t.results),i={},a=void 0,s=void 0;return r.forEach(function(e,r){if(!(r<t.row)){var l=o(e.querySelectorAll(t.cellTags));if(e.goGridPlacement=-1,l.length&&l[t.column]){var u=parseInt(l[t.column].textContent,10),f=void 0;if(s)f=s+1;else{if(isNaN(u))return;f=u||1}u?a>=u&&(u=a):u=a?a:1;var c={place:u,row:e,games:{},opponents:[]};l.forEach(function(e){var t=!0,r=!1,o=void 0;try{for(var i,l=n[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var a=i.value,s=e.textContent.match(a.regexp);if(s){var u=s[1];e.goOpponentGridPosition=u,c.games[u]={cell:e,cls:a.cls},c.opponents.push(u)}}}catch(f){r=!0,o=f}finally{try{!t&&l["return"]&&l["return"]()}finally{if(r)throw o}}}),e.goGridPlacement=f,a=u,s=f,i[f]=c}}}),i}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r.asArray=o,r.defaults=i,r.readDomSettings=a,r.mapRowsToPlayers=s;var f={prefixCls:"go-results-",gameCls:"game",currentCls:"current",results:{won:"([0-9]+)\\+",lost:"([0-9]+)\\-",jigo:"([0-9]+)=",unresolved:"([0-9]+)\\?"},row:0,column:0,rowTags:"tr",cellTags:"td,th",hovering:!0,clicking:!0};r.DEFAULT_SETTINGS=f;var c="go-results-",d=["column","row"],v=function(){function e(t,r){n(this,e),this.element=t,this.settings=i(f,a(t),r),this.map=s(this.element,this.settings),this.bindEvents()}return u(e,[{key:"selectPlayer",value:function(e,t){function r(e,t){var r=t?"add":"remove";e.row.classList[r](n);var o=!0,i=!1,l=void 0;try{for(var a,s=e.opponents[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var u=a.value,f=this.map[u];f.row.classList[r](this.settings.prefixCls+e.games[u].cls)}}catch(c){i=!0,l=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw l}}}var n=this.settings.prefixCls+this.settings.currentCls,i=this.settings.prefixCls+this.settings.gameCls,l=this.map[e],a=o(this.element.querySelectorAll("."+i)),s=this.element.querySelector("."+n),u=s&&s.goGridPlacement?this.map[s.goGridPlacement]:null,f=!0,c=!1,d=void 0;try{for(var v,g=a[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var y=v.value;y.classList.remove(i)}}catch(m){c=!0,d=m}finally{try{!f&&g["return"]&&g["return"]()}finally{if(c)throw d}}u&&u!==l&&r.call(this,u,!1),l&&l!==u&&r.call(this,l,!0),l&&t&&(l.games[t].cell.classList.add(i),this.map[t].games[e].cell.classList.add(i))}},{key:"showDetails",value:function(e){console.log("Showing",e)}},{key:"bindEvents",value:function(){var e=this;this.element.addEventListener("click",function(t){if(e.settings.clicking!==!1){for(var r=t.target,n=null;r&&r!==document;){if(r.goGridPlacement){n=r.goGridPlacement;break}r=r.parentNode}n&&e.showDetails(n)}}),this.element.addEventListener("mouseover",function(t){if(e.settings.hovering!==!1){for(var r=t.target,n=null,o=null;r&&r!==document;){if(r.goOpponentGridPosition&&(n=r.goOpponentGridPosition),r.goGridPlacement){o=r.goGridPlacement;break}r=r.parentNode}o&&e.selectPlayer(o,n)}},!1),this.element.addEventListener("mouseout",function(t){if(e.settings.hovering!==!1){for(var r=t.relatedTarget;r&&r!==document&&r!==e.element;)r=r.parentNode;r!==e.element&&e.selectPlayer(-1)}},!1)}}]),e}();r["default"]=v,v.DEFAULT_SETTINGS=f},{}]},{},[1])(1)});